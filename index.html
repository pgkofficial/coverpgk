<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Special Offer | Event 88 - Advanced Analytics</title>
    
    <!-- HTML Meta Tags -->
    <title>HeyLink.me | free credit deposit | free deposit bonus | top wallet Malaysia</title>
    <meta name="description" content="Sertai kami di wallet5g untuk mengakses pelbagai tawaran eksklusif.">

    <!-- Facebook Meta Tags -->
    <meta property="og:url" content="https://wallet5g.com/">
    <meta property="og:type" content="website">
    <meta property="og:title" content="HeyLink.me | top e-wallet Malaysia">
    <meta property="og:description" content="Sertai kami di wallet5g untuk mengakses pelbagai tawaran eksklusif.">
    <meta property="og:image" content="https://cdn-b.heylink.me/media/users/og_image/b6ecca0ca20f4f939680e37833e622c5.webp">
    
    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta property="twitter:domain" content="wallet5g.com">
    <meta property="twitter:url" content="https://wallet5g.com/">
    <meta name="twitter:title" content="HeyLink.me | free credit deposit | free deposit bonus | top wallet Malaysia">
    <meta name="twitter:description" content="Sertai kami di wallet5g untuk mengakses pelbagai tawaran eksklusif">
    <meta name="twitter:image" content="https://cdn-b.heylink.me/media/users/og_image/b6ecca0ca20f4f939680e37833e622c5.webp">
    <!-- TikTok Pixel Code Start -->
    <script>
    !function (w, d, t) {
      w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(
    var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var r="https://analytics.tiktok.com/i18n/pixel/events.js",o=n&&n.partner;ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=r,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script")
    ;n.type="text/javascript",n.async=!0,n.src=r+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};
    
    
      ttq.load('D12S54JC77U2P4BEE7RG');
      ttq.page();
    }(window, document, 'ttq');
    </script>
    <!-- TikTok Pixel Code End -->
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-NWPQZ262');</script>
    <!-- End Google Tag Manager -->

    <!-- Enhanced Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SEED4HM67D"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        
        // Configure GA4 with enhanced settings
        gtag('js', new Date());
        gtag('config', 'G-SEED4HM67D', {
            // Enhanced measurement settings
            enhanced_measurement: {
                scrolls: true,
                outbound_clicks: true,
                site_search: false,
                video_engagement: false,
                file_downloads: true
            },
            // User engagement settings
            engagement_time_msec: 10000,
            send_page_view: true,
            
            // Custom parameters
            custom_map: {
                'custom_parameter_1': 'offer_type',
                'custom_parameter_2': 'user_source'
            },
            
            // Cookie settings
            cookie_expires: 63072000, // 2 years
            cookie_update: true,
            cookie_flags: 'SameSite=None;Secure',
            
            // Additional settings
            allow_google_signals: true,
            allow_ad_personalization_signals: true
        });

        // Enhanced eCommerce setup for conversion tracking
        gtag('config', 'G-SEED4HM67D', {
            currency: 'MYR',
            country: 'MY'
        });

        // Set user properties
        gtag('set', {
            'country': 'Malaysia',
            'language': 'ms-MY',
            'page_location': window.location.href,
            'page_referrer': document.referrer
        });
    </script>

    <!-- Facebook Pixel -->
    <script>
        !function(f,b,e,v,n,t,s)
        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
        
        fbq('init', '1060542778787657');
        fbq('track', 'PageView');
        
        // Enhanced Facebook events
        fbq('trackCustom', 'OfferPageView', {
            offer_type: 'welcome_bonus',
            page_category: 'landing_page'
        });
    </script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        :root {
            --primary-color: #FF2D55;
            --secondary-color: #25F4EE;
            --dark-color: #121212;
            --light-color: #FFF;
            --accent-color: #FE2C55;
            --gradient-bg: linear-gradient(135deg, #121212 0%, #1E1E1E 100%);
            --glass-bg: rgba(30, 30, 30, 0.7);
            --card-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: var(--gradient-bg);
            color: var(--light-color);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow-x: hidden;
        }
        
        .bg-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }
        
        .bg-blur {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.2;
        }
        
        .bg-blur-1 {
            width: 300px;
            height: 300px;
            background: var(--secondary-color);
            top: -100px;
            left: -50px;
        }
        
        .bg-blur-2 {
            width: 250px;
            height: 250px;
            background: var(--primary-color);
            bottom: -50px;
            right: -50px;
        }
        
        .bg-blur-3 {
            width: 200px;
            height: 200px;
            background: #7B61FF;
            top: 50%;
            left: 70%;
        }
        
        .container {
            max-width: 450px;
            width: 90%;
            background: var(--glass-bg);
            border-radius: 24px;
            padding: 40px 30px;
            box-shadow: var(--card-shadow);
            position: relative;
            overflow: hidden;
            z-index: 2;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .container:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.35);
        }
        
        .logo {
            display: flex;
            justify-content: center;
            margin-bottom: 25px;
            position: relative;
        }
        
        .logo-text {
            font-size: 38px;
            font-weight: 800;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
            position: relative;
            display: inline-block;
            letter-spacing: -1px;
        }
        
        .logo-badge {
            position: absolute;
            top: -8px;
            right: -25px;
            background: linear-gradient(135deg, var(--accent-color), #FF8A80);
            color: white;
            font-size: 12px;
            padding: 3px 10px;
            border-radius: 12px;
            font-weight: 600;
            letter-spacing: 0.5px;
            box-shadow: 0 3px 10px rgba(254, 44, 85, 0.4);
        }
        
        h1 {
            font-size: 26px;
            font-weight: 700;
            margin-bottom: 15px;
            text-align: center;
            background: linear-gradient(90deg, #FFF, rgba(255, 255, 255, 0.8));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.5px;
        }
        
        .offer-text {
            font-size: 18px;
            line-height: 1.5;
            margin-bottom: 30px;
            text-align: center;
            color: rgba(255, 255, 255, 0.85);
        }
        
        .countdown-container {
            background: rgba(0, 0, 0, 0.25);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .countdown-container::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
        }
        
        .countdown-label {
            text-align: center;
            font-size: 15px;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .countdown {
            font-size: 42px;
            font-weight: 700;
            text-align: center;
            color: var(--light-color);
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            font-variant-numeric: tabular-nums;
            letter-spacing: 2px;
        }
        
        .cta-button {
            display: block;
            width: 100%;
            background: linear-gradient(90deg, var(--secondary-color), var(--primary-color));
            color: white;
            border: none;
            border-radius: 16px;
            padding: 18px 20px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            text-align: center;
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            margin-bottom: 20px;
            box-shadow: 0 8px 25px rgba(255, 45, 85, 0.35);
            letter-spacing: 0.5px;
        }
        
        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(255, 45, 85, 0.5);
        }
        
        .cta-button:active {
            transform: translateY(1px);
            box-shadow: 0 5px 15px rgba(255, 45, 85, 0.4);
        }
        
        .cta-button::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: all 0.6s ease;
        }
        
        .cta-button:hover::before {
            left: 100%;
        }
        
        .notice {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.5);
            text-align: center;
            margin-top: 15px;
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 8px 25px rgba(255, 45, 85, 0.35);
            }
            50% {
                transform: scale(1.03);
                box-shadow: 0 12px 30px rgba(255, 45, 85, 0.5);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 8px 25px rgba(255, 45, 85, 0.35);
            }
        }
        
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }
        
        .particle {
            position: absolute;
            border-radius: 50%;
            animation: float 20s infinite linear;
        }
        
        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); opacity: 0; }
            10% { opacity: 0.5; }
            90% { opacity: 0.5; }
            100% { transform: translate(var(--x), var(--y)) rotate(var(--r)); opacity: 0; }
        }
        
        .popup-window {
            display: flex;
            justify-content: center;
            align-items: center;
            position: fixed;
            top: 0; left: 0;
            width: 100vw;
            height: 100vh;
            background-color: rgba(0,0,0,0.75);
            z-index: 9999;
            opacity: 1;
            backdrop-filter: blur(5px);
            transition: opacity 0.3s ease;
        }
        
        .main-notice {
            position: relative;
            width: 90%;
            max-width: 400px;
            transform: scale(1);
            transition: transform 0.3s ease;
        }
        
        .main-notice:hover {
            transform: scale(1.02);
        }
        
        .ic-close {
            position: absolute;
            top: -15px;
            right: -15px;
            background: #fff;
            color: #000;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 3px 10px rgba(0,0,0,0.3);
            font-size: 18px;
            transition: all 0.2s ease;
            z-index: 10;
        }
        
        .ic-close:hover {
            transform: scale(1.1);
            background: #f8f8f8;
        }
        
        .notice-content {
            background-image: url('https://res.cloudinary.com/dhlurazyu/image/upload/v1748078630/GET_NOW_NOTICE_copy_vg2omz.png');
            background-size: contain;
            background-color: rgba(0,0,0,0.6);
            background-repeat: no-repeat;
            background-position: center;
            padding-top: 140%;
            width: 100%;
            border-radius: 16px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
            border: 1px solid rgba(255,255,255,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .notice-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(0deg, rgba(0,0,0,0.3) 0%, transparent 50%);
            pointer-events: none;
        }
        
        @keyframes gameani {
            0% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-5px);
            }
            100% {
                transform: translateY(0px);
            }
        }
        
        .features {
            display: flex;
            justify-content: space-between;
            margin: 25px 0;
        }
        
        .feature {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex: 1;
        }
        
        .feature-icon {
            font-size: 24px;
            margin-bottom: 10px;
            width: 50px;
            height: 50px;
            border-radius: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--secondary-color);
        }
        
        .feature-text {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.7);
            text-align: center;
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 30px 20px;
            }
            
            h1 {
                font-size: 22px;
            }
            
            .offer-text {
                font-size: 16px;
            }
            
            .countdown {
                font-size: 36px;
            }
            
            .cta-button {
                padding: 16px 20px;
                font-size: 16px;
            }
        }

        .wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: auto auto;
            gap: 0px;
            padding: 0px 0;
            margin-bottom: 20px;
        }

        .card:nth-child(1) {
            grid-column: 1 / 3;
            justify-self: center;
        }

        .card:nth-child(2) {
            grid-column: 1;
        }

        .card:nth-child(3) {
            grid-column: 2;
        }

        .card {
            background: linear-gradient(180deg, #1c1c1c, #2a2a2a);
            border-radius: 20px;
            border: 0px solid #F0730A;
            box-shadow: 0 0px 0px rgba(0, 0, 0, 0.6);
            padding: 15px;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
            box-sizing: border-box;
            width: 100%;
            background: transparent;
        }

        .card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(240, 115, 10, 0.3);
        }

        .card .brand-logo {
          width: 100px;
          height: auto;
          margin-bottom: 1rem;
          border-radius: 8px;
          display: block;
          margin-left: auto;
          margin-right: auto;
        }

        video, iframe {
            display: block;
            border: 0;
        }

        .card .brand-name {
            font-size: 10px;
            font-weight: 600;
            color: #fff;
            margin-bottom: 10px;
        }

        .card .bonus {
            font-size: 30px;
            color: #fff;
            margin-bottom: 3px;
        }

        .card .bonus .value {
            color: #25F4EE;
            font-weight: bold;
        }

        .claim-btn {
            font-size: 20px;
            display: inline-block;
            margin-top: 8px;
            padding: 6px 12px;
            background: linear-gradient(90deg, #007bff, #0056b3);
            color: #ffffff;
            font-weight: bold;
            border-radius: 8px;
            text-decoration: none;
            box-shadow: 0 3px 10px rgba(0, 123, 255, 0.3);
            transition: all 0.3s ease;
        }

        .claim-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 123, 255, 0.5);
        }

        @media (max-width: 480px) {
            .wrapper {
                gap: 10px;
                padding: 10px 0;
            }
            
            .card {
                padding: 12px;
            }
            
            .card .brand-logo {
                max-width: 60px;
            }
            
            .card .bonus {
                font-size: 9px;
            }
            
            .claim-btn {
                font-size: 9px;
                padding: 5px 10px;
            }
        }
    
        #home-movie .movie {
            margin: 10px 0 0;
            background-position: center;
            background-size: cover;
            border-radius: 8px;
            cursor: pointer;
        }

        /* Analytics Dashboard Styles */
        .analytics-debug {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 10px;
            border-radius: 8px;
            font-size: 12px;
            max-width: 300px;
            z-index: 10000;
            display: none;
        }

        .analytics-debug.show {
            display: block;
        }
    </style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NWPQZ262"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <div class="bg-elements">
        <div class="bg-blur bg-blur-1"></div>
        <div class="bg-blur bg-blur-2"></div>
        <div class="bg-blur bg-blur-3"></div>
    </div>
    
    <div class="particles" id="particles"></div>
    
    <div class="container">
        
        <div class="wrapper">
            <div class="card" data-brand="bw88">
                <img src="https://img1.picmix.com/output/stamp/normal/3/4/7/1/1131743_d12e9.gif" class="brand-logo" alt="Logo">
                <div class="bonus"><span class="value">GET NOW</span></div>
                <div class="button-container">
                    <a href="https://wallet5g.com" class="claim-btn" target="_blank" data-brand="bw88" data-bonus="100">Click Here</a>
                </div>
            </div>
        </div>

        <a href="#" class="cta-button pulse" id="redirect-button">
            <i class="fas fa-trophy"></i> Get Now!
        </a>

        <div class="features">
            <div class="feature">
                <div class="feature-icon">
                    <i class="fas fa-gift"></i>
                </div>
                <p class="feature-text">Special Rewards</p>
            </div>
            <div class="feature">
                <div class="feature-icon">
                    <i class="fas fa-bolt"></i>
                </div>
                <p class="feature-text">Fast Process</p>
            </div>
            <div class="feature">
                <div class="feature-icon">
                    <i class="fas fa-lock"></i>
                </div>
                <p class="feature-text">Secure Access</p>
            </div>
        </div>
        
        <div class="countdown-container">
            <div class="countdown-label">Offer expires in:</div>
            <div class="countdown" id="countdown">00:00:00</div>
        </div>
        
        <p class="notice">By clicking, you agree to our terms and conditions</p>
    </div>

    <div id="popupwindow" class="popup-window">
        <div id="main-notice" class="main-notice">
            <div class="ic-close" id="popup-close">&times;</div>
            <div class="notice-content" data-key="NoticeURL1"></div>
        </div>
    </div>

    <!-- Analytics Debug Panel -->
    <div id="analytics-debug" class="analytics-debug">
        <strong>Analytics Status:</strong><br>
        <span id="debug-content">Loading...</span>
    </div>

    <script>
        // Enhanced Analytics Configuration
        const AnalyticsManager = {
            // Configuration
            config: {
                destinationUrl: "https://he1.me/wallet5g",
                sessionStart: Date.now(),
                userId: null,
                sessionId: null,
                debug: false // Set to true for debugging
            },

            // Initialize Analytics
            init: function() {
                this.generateIds();
                this.setupEventListeners();
                this.trackPageView();
                this.trackEngagement();
                this.setupScrollTracking();
                this.setupHeatmapTracking();
                
                if (this.config.debug) {
                    this.showDebugPanel();
                }
            },

            // Generate unique IDs
            generateIds: function() {
                this.config.userId = 'user_' + Math.random().toString(36).substr(2, 9);
                this.config.sessionId = 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 5);
            },

            // Track enhanced page view
            trackPageView: function() {
                const pageData = {
                    page_title: document.title,
                    page_location: window.location.href,
                    page_referrer: document.referrer,
                    user_agent: navigator.userAgent,
                    screen_resolution: screen.width + 'x' + screen.height,
                    viewport_size: window.innerWidth + 'x' + window.innerHeight,
                    color_depth: screen.colorDepth,
                    language: navigator.language,
                    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                    user_id: this.config.userId,
                    session_id: this.config.sessionId,
                    timestamp: new Date().toISOString()
                };

                // Send to Google Analytics
                gtag('event', 'page_view_enhanced', pageData);

                // Send to Google Tag Manager
                window.dataLayer = window.dataLayer || [];
                window.dataLayer.push({
                    event: 'enhanced_page_view',
                    ...pageData
                });

                // Send to Facebook Pixel
                if (typeof fbq !== 'undefined') {
                    fbq('trackCustom', 'EnhancedPageView', pageData);
                }

                this.log('Page view tracked', pageData);
            },

            // Setup comprehensive event listeners
            setupEventListeners: function() {
                const self = this;

                // Track all CTA button clicks
                document.getElementById('redirect-button').addEventListener('click', function(e) {
                    e.preventDefault();
                    self.trackCTAClick('main_cta', 'redirect_button');
                });

                // Track individual brand clicks
                document.querySelectorAll('.claim-btn').forEach(function(btn) {
                    btn.addEventListener('click', function(e) {
                        const brand = this.getAttribute('data-brand');
                        const bonus = this.getAttribute('data-bonus');
                        self.trackBrandClick(brand, bonus, this.href);
                    });
                });

                // Track popup interactions
                const popupClose = document.getElementById('popup-close');
                if (popupClose) {
                    popupClose.addEventListener('click', function() {
                        self.trackPopupInteraction('close');
                    });
                }

                const noticeContent = document.querySelector('.notice-content');
                if (noticeContent) {
                    noticeContent.addEventListener('click', function() {
                        self.trackPopupInteraction('click');
                    });
                }

                // Track feature icon clicks
                document.querySelectorAll('.feature').forEach(function(feature, index) {
                    feature.addEventListener('click', function() {
                        const featureText = this.querySelector('.feature-text').textContent;
                        self.trackFeatureClick(featureText, index);
                    });
                });

                // Track form interactions (if any)
                this.setupFormTracking();

                // Track external link clicks
                this.setupExternalLinkTracking();
            },

            // Track CTA button clicks
            trackCTAClick: function(buttonType, buttonId) {
                const eventData = {
                    event_category: 'CTA',
                    event_label: buttonType,
                    button_id: buttonId,
                    user_id: this.config.userId,
                    session_id: this.config.sessionId,
                    timestamp: new Date().toISOString(),
                    time_on_page: Date.now() - this.config.sessionStart
                };

                // Enhanced conversion tracking
                gtag('event', 'conversion', {
                    send_to: 'G-SEED4HM67D',
                    ...eventData
                });

                // GTM event
                window.dataLayer.push({
                    event: 'cta_click',
                    ...eventData
                });

                // Facebook conversion
                if (typeof fbq !== 'undefined') {
                    fbq('track', 'Lead', {
                        content_name: buttonType,
                        content_category: 'CTA_Click'
                    });
                }

                this.log('CTA Click tracked', eventData);

                // Redirect after tracking
                setTimeout(() => {
                    window.location.href = this.config.destinationUrl;
                }, 300);
            },

            // Track brand-specific clicks
            trackBrandClick: function(brand, bonus, url) {
                const eventData = {
                    event_category: 'Brand_Selection',
                    event_label: brand,
                    bonus_percentage: bonus,
                    destination_url: url,
                    user_id: this.config.userId,
                    session_id: this.config.sessionId,
                    timestamp: new Date().toISOString()
                };

                gtag('event', 'select_content', {
                    content_type: 'brand',
                    content_id: brand,
                    ...eventData
                });

                window.dataLayer.push({
                    event: 'brand_click',
                    ...eventData
                });

                if (typeof fbq !== 'undefined') {
                    fbq('trackCustom', 'BrandSelection', eventData);
                }

                this.log('Brand click tracked', eventData);
            },

            // Track popup interactions
            trackPopupInteraction: function(action) {
                const eventData = {
                    event_category: 'Popup',
                    event_label: action,
                    user_id: this.config.userId,
                    session_id: this.config.sessionId,
                    timestamp: new Date().toISOString()
                };

                gtag('event', 'popup_interaction', eventData);

                window.dataLayer.push({
                    event: 'popup_interaction',
                    ...eventData
                });

                this.log('Popup interaction tracked', eventData);
            },

            // Track feature clicks
            trackFeatureClick: function(featureName, index) {
                const eventData = {
                    event_category: 'Feature',
                    event_label: featureName,
                    feature_index: index,
                    user_id: this.config.userId,
                    session_id: this.config.sessionId
                };

                gtag('event', 'feature_click', eventData);
                window.dataLayer.push({
                    event: 'feature_click',
                    ...eventData
                });

                this.log('Feature click tracked', eventData);
            },

            // Track user engagement
            trackEngagement: function() {
                const self = this;
                let engagementTimer = 0;
                let isActive = true;

                // Track time on page every 10 seconds
                setInterval(function() {
                    if (isActive) {
                        engagementTimer += 10;
                        
                        // Send engagement event every 30 seconds
                        if (engagementTimer % 30 === 0) {
                            gtag('event', 'user_engagement', {
                                engagement_time_msec: engagementTimer * 1000,
                                user_id: self.config.userId,
                                session_id: self.config.sessionId
                            });
                        }
                    }
                }, 10000);

                // Track when user becomes inactive/active
                document.addEventListener('visibilitychange', function() {
                    isActive = !document.hidden;
                    
                    gtag('event', 'page_visibility', {
                        visibility_state: document.hidden ? 'hidden' : 'visible',
                        time_on_page: engagementTimer
                    });
                });

                // Track mouse movement for engagement
                let mouseMovements = 0;
                document.addEventListener('mousemove', function() {
                    mouseMovements++;
                    if (mouseMovements % 100 === 0) {
                        gtag('event', 'user_activity', {
                            activity_type: 'mouse_movement',
                            activity_count: mouseMovements
                        });
                    }
                });
            },

            // Setup scroll tracking
            setupScrollTracking: function() {
                let scrollDepths = [25, 50, 75, 90];
                let trackedDepths = [];

                window.addEventListener('scroll', function() {
                    const scrollPercent = Math.round(
                        (window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100
                    );

                    scrollDepths.forEach(function(depth) {
                        if (scrollPercent >= depth && !trackedDepths.includes(depth)) {
                            trackedDepths.push(depth);
                            
                            gtag('event', 'scroll', {
                                event_category: 'Engagement',
                                event_label: depth + '%',
                                value: depth
                            });

                            window.dataLayer.push({
                                event: 'scroll_depth',
                                scroll_depth: depth,
                                user_id: AnalyticsManager.config.userId
                            });
                        }
                    });
                });
            },

            // Setup heatmap tracking
            setupHeatmapTracking: function() {
                const self = this;
                
                document.addEventListener('click', function(e) {
                    const clickData = {
                        element: e.target.tagName,
                        className: e.target.className,
                        id: e.target.id,
                        x: e.clientX,
                        y: e.clientY,
                        timestamp: new Date().toISOString()
                    };

                    gtag('event', 'click_heatmap', {
                        event_category: 'Heatmap',
                        custom_parameters: clickData
                    });

                    self.log('Click tracked', clickData);
                });
            },

            // Setup form tracking
            setupFormTracking: function() {
                // Track any form interactions if forms exist
                document.querySelectorAll('form').forEach(function(form) {
                    form.addEventListener('submit', function(e) {
                        gtag('event', 'form_submit', {
                            event_category: 'Form',
                            event_label: 'submit'
                        });
                    });
                });

                document.querySelectorAll('input, select, textarea').forEach(function(field) {
                    field.addEventListener('focus', function() {
                        gtag('event', 'form_field_focus', {
                            event_category: 'Form',
                            event_label: this.name || this.id || 'unnamed_field'
                        });
                    });
                });
            },

            // Setup external link tracking
            setupExternalLinkTracking: function() {
                document.querySelectorAll('a[href^="http"]').forEach(function(link) {
                    link.addEventListener('click', function() {
                        gtag('event', 'external_link_click', {
                            event_category: 'External Links',
                            event_label: this.href,
                            transport_type: 'beacon'
                        });
                    });
                });
            },

            // Error tracking
            setupErrorTracking: function() {
                window.addEventListener('error', function(e) {
                    gtag('event', 'javascript_error', {
                        event_category: 'Error',
                        event_label: e.message,
                        value: e.lineno
                    });
                });

                window.addEventListener('unhandledrejection', function(e) {
                    gtag('event', 'promise_rejection', {
                        event_category: 'Error',
                        event_label: e.reason
                    });
                });
            },

            // Performance tracking
            trackPerformance: function() {
                window.addEventListener('load', function() {
                    setTimeout(function() {
                        const perfData = performance.timing;
                        const loadTime = perfData.loadEventEnd - perfData.navigationStart;
                        
                        gtag('event', 'page_load_time', {
                            event_category: 'Performance',
                            value: Math.round(loadTime),
                            custom_parameters: {
                                dns_time: perfData.domainLookupEnd - perfData.domainLookupStart,
                                connect_time: perfData.connectEnd - perfData.connectStart,
                                response_time: perfData.responseEnd - perfData.responseStart,
                                dom_load_time: perfData.domContentLoadedEventEnd - perfData.domContentLoadedEventStart
                            }
                        });
                    }, 0);
                });
            },

            // Conversion funnel tracking
            trackConversionFunnel: function(step, stepName) {
                gtag('event', 'conversion_funnel', {
                    event_category: 'Funnel',
                    event_label: stepName,
                    value: step,
                    user_id: this.config.userId,
                    session_id: this.config.sessionId
                });

                window.dataLayer.push({
                    event: 'funnel_step',
                    funnel_step: step,
                    funnel_step_name: stepName,
                    user_id: this.config.userId
                });
            },

            // A/B Testing support
            trackABTest: function(experimentId, variantId) {
                gtag('event', 'ab_test', {
                    event_category: 'Experiment',
                    event_label: experimentId,
                    value: variantId,
                    custom_parameters: {
                        experiment_id: experimentId,
                        variant_id: variantId
                    }
                });
            },

            // Custom event tracking
            trackCustomEvent: function(eventName, eventData) {
                gtag('event', eventName, {
                    ...eventData,
                    user_id: this.config.userId,
                    session_id: this.config.sessionId,
                    timestamp: new Date().toISOString()
                });

                window.dataLayer.push({
                    event: eventName,
                    ...eventData
                });

                this.log('Custom event tracked', {eventName, eventData});
            },

            // Debug panel
            showDebugPanel: function() {
                const debugPanel = document.getElementById('analytics-debug');
                debugPanel.classList.add('show');
                
                setInterval(() => {
                    const debugContent = document.getElementById('debug-content');
                    debugContent.innerHTML = `
                        User ID: ${this.config.userId}<br>
                        Session ID: ${this.config.sessionId}<br>
                        Time on Page: ${Math.round((Date.now() - this.config.sessionStart) / 1000)}s<br>
                        Events Sent: ${this.eventCount || 0}
                    `;
                }, 1000);
            },

            // Logging function
            log: function(message, data) {
                if (this.config.debug) {
                    console.log('[Analytics]', message, data);
                }
                this.eventCount = (this.eventCount || 0) + 1;
            }
        };

        // Initialize Analytics when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            AnalyticsManager.init();
            AnalyticsManager.setupErrorTracking();
            AnalyticsManager.trackPerformance();
            
            // Track initial funnel step
            AnalyticsManager.trackConversionFunnel(1, 'Landing Page View');
        });

        // Enhanced countdown timer with analytics
        let seconds = 86400; // 24 hours
        const countdownElement = document.getElementById("countdown");
        
        const countdownTimer = setInterval(() => {
            const hours = Math.floor(seconds / 3600);
            const minutes = Math.floor((seconds % 3600) / 60);
            const secs = seconds % 60;

            countdownElement.textContent = 
                `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;

            // Track countdown milestones
            if (seconds === 82800) { // 23 hours remaining
                AnalyticsManager.trackCustomEvent('countdown_milestone', {
                    milestone: '23_hours_remaining',
                    urgency_level: 'low'
                });
            } else if (seconds === 3600) { // 1 hour remaining
                AnalyticsManager.trackCustomEvent('countdown_milestone', {
                    milestone: '1_hour_remaining',
                    urgency_level: 'high'
                });
            } else if (seconds === 300) { // 5 minutes remaining
                AnalyticsManager.trackCustomEvent('countdown_milestone', {
                    milestone: '5_minutes_remaining',
                    urgency_level: 'critical'
                });
            }

            seconds--;

            if (seconds < 0) {
                clearInterval(countdownTimer);
                AnalyticsManager.trackCustomEvent('countdown_expired', {
                    action: 'auto_redirect'
                });
                window.location.href = AnalyticsManager.config.destinationUrl;
            }
        }, 1000);
        
        // Create floating particles with performance monitoring
        const particlesContainer = document.getElementById('particles');
        const particleCount = 20;
        
        for (let i = 0; i < particleCount; i++) {
            createParticle();
        }
        
        function createParticle() {
            const particle = document.createElement('div');
            particle.classList.add('particle');
            
            const size = Math.random() * 12 + 3;
            particle.style.width = `${size}px`;
            particle.style.height = `${size}px`;
            
            particle.style.left = `${Math.random() * 100}%`;
            particle.style.top = `${Math.random() * 100}%`;
            
            particle.style.opacity = Math.random() * 0.3 + 0.1;
            
            const colors = [
                'rgba(255, 45, 85, 0.8)', 
                'rgba(37, 244, 238, 0.8)', 
                'rgba(255, 255, 255, 0.5)'
            ];
            particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            
            const duration = Math.random() * 15 + 10;
            const xMove = Math.random() * 200 - 100;
            const yMove = Math.random() * 200 - 100;
            const rotation = Math.random() * 360;
            
            particle.style.setProperty('--x', `${xMove}px`);
            particle.style.setProperty('--y', `${yMove}px`);
            particle.style.setProperty('--r', `${rotation}deg`);
            
            particle.style.animation = `float ${duration}s ${Math.random() * 5}s infinite`;
            
            particlesContainer.appendChild(particle);
        }

        // Enhanced popup handling with analytics
        document.addEventListener("DOMContentLoaded", function () {
            const popup = document.getElementById("popupwindow");
            const closeBtn = document.getElementById("popup-close");
            const mainNotice = document.getElementById("main-notice");
            const noticeContent = document.querySelector(".notice-content");

            // Track popup view
            AnalyticsManager.trackCustomEvent('popup_view', {
                popup_type: 'promotional',
                auto_shown: true
            });

            if (closeBtn && popup) {
                closeBtn.addEventListener("click", function (e) {
                    e.stopPropagation();
                    popup.style.opacity = "0";
                    setTimeout(() => {
                        popup.style.display = "none";
                    }, 300);
                });
            }

            if (mainNotice) {
                noticeContent.addEventListener("click", function () {
                    AnalyticsManager.trackCustomEvent('popup_cta_click', {
                        popup_type: 'promotional',
                        action: 'redirect'
                    });
                    window.location.href = AnalyticsManager.config.destinationUrl;
                });
            }
            
            mainNotice.style.animation = "gameani 1.5s ease-in-out infinite";
        });

        // Additional GTM DataLayer events
        window.dataLayer = window.dataLayer || [];

        // Push initial data
        window.dataLayer.push({
            event: 'page_data',
            page_type: 'landing_page',
            offer_type: 'welcome_bonus',
            campaign: 'event_88',
            user_country: 'Malaysia',
            page_language: 'ms-MY'
        });

        // Track site interactions
        window.dataLayer.push({
            event: 'site_interaction',
            interaction_type: 'page_load',
            timestamp: new Date().toISOString()
        });

        // Enhanced eCommerce tracking for GTM
        function trackPurchaseIntent(brand, bonus) {
            window.dataLayer.push({
                event: 'purchase_intent',
                ecommerce: {
                    currency: 'MYR',
                    value: bonus,
                    items: [{
                        item_id: brand,
                        item_name: brand + ' Welcome Bonus',
                        item_category: 'Casino Bonus',
                        item_variant: bonus + '%',
                        quantity: 1,
                        price: bonus
                    }]
                }
            });
        }
    </script>

    <!-- Additional tracking pixels for comprehensive analytics -->
    <noscript>
        <img height="1" width="1" style="display:none" 
             src="https://www.facebook.com/tr?id=1060542778787657&ev=PageView&noscript=1"/>
    </noscript>

</body>
</html>
